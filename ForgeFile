# Generated using forge add. üî® Thanks for using Forge. ‚≠ê Star on github: https://github.com/SujalChoudhari/Forge
build:
  detect: ["src/"]
  always: true
  vars: {}
  run: 
  - "cargo build --target x86_64-mold_os.json"
  #  Complete command without nightly setup: cargo +nightly build -Z build-std=core,compiler_builtins --target x86_64-mold_os.json

# Generated using forge add. üî® Thanks for using Forge. ‚≠ê Star on github: https://github.com/SujalChoudhari/Forge
build_specific:
  detect: ["src/"]
  always: false
  vars: {}
  run: 
    - win
    - cargo rustc -- -C link-args="/ENTRY:_start /SUBSYSTEM:console"

    - linux
    - cargo rustc -- -C link-arg=-nostartfiles

    - mac
    - cargo rustc -- -C link-args="-e __start -static -nostartfiles"

run:
  detect: ["src/"]
  always: true
  vars: {}
  run: ["cargo run --target thumbv7em-none-eabihf"]

setup:
  detect: ["*"]
  always: false
  vars: {}
  run: ["rustup target add thumbv7em-none-eabihf"]


